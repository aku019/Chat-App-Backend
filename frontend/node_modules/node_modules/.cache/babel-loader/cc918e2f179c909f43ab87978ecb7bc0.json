{"ast":null,"code":"var _jsxFileName = \"/Users/asish/Desktop/chat app/client/src/pages/AuthScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport { Box, Stack, Typography, Button, TextField, Card, CircularProgress, Alert } from '@mui/material';\nimport { useMutation } from '@apollo/client';\nimport { SIGNUP_USER, LOGIN_USER } from '../graphql/mutations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AuthScreen = _ref => {\n  _s();\n\n  let {\n    setloggedIn\n  } = _ref;\n  const [showLogin, setShowLogin] = useState(true);\n  const [formData, setFormData] = useState({});\n  const authForm = useRef(null);\n  const [signupUser, {\n    data: signupData,\n    loading: l1,\n    error: e1\n  }] = useMutation(SIGNUP_USER);\n  const [loginUser, {\n    data: loginData,\n    loading: l2,\n    error: e2\n  }] = useMutation(LOGIN_USER, {\n    onCompleted(data) {\n      localStorage.setItem(\"jwt\", data.signinUser.token);\n      setloggedIn(true);\n    }\n\n  });\n\n  if (l1 || l2) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100vh\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        textAlign: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: \"Authenticating...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 6\n    }, this);\n  }\n\n  const handleChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (showLogin) {\n      loginUser({\n        variables: {\n          userSignin: formData\n        }\n      });\n    } else {\n      signupUser({\n        variables: {\n          userNew: formData\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    ref: authForm,\n    component: \"form\",\n    onSubmit: handleSubmit,\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: \"80vh\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      variant: \"outlined\",\n      sx: {\n        padding: \"10px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"column\",\n        spacing: 2,\n        sx: {\n          width: \"400px\"\n        },\n        children: [signupData && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"success\",\n          children: [signupData.signupUser.firstName, \" Signed Up\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 26\n        }, this), e1 && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: e1.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 18\n        }, this), e2 && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: e2.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: [\"Please \", showLogin ? \"Login\" : \"Signup\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 12\n        }, this), !showLogin && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            name: \"firstName\",\n            label: \"First Name\",\n            variant: \"standard\",\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"secondName\",\n            label: \"Last Name\",\n            variant: \"standard\",\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(TextField, {\n          type: \"email\",\n          name: \"email\",\n          label: \"email\",\n          variant: \"standard\",\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          type: \"password\",\n          name: \"password\",\n          label: \"password\",\n          variant: \"standard\",\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          textAlign: \"center\",\n          variant: \"subtitle1\",\n          onClick: () => {\n            setShowLogin(preValue => !preValue);\n            setFormData({});\n            authForm.current.reset();\n          },\n          children: [\" \", showLogin ? \"Signup?\" : \"Login?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          type: \"submit\",\n          children: showLogin ? \"Login\" : \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AuthScreen, \"IF1FGuYhCVDi+0GiDTiMtlGFnGU=\", false, function () {\n  return [useMutation, useMutation];\n});\n\n_c = AuthScreen;\nexport default AuthScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthScreen\");","map":{"version":3,"names":["React","useState","useRef","Box","Stack","Typography","Button","TextField","Card","CircularProgress","Alert","useMutation","SIGNUP_USER","LOGIN_USER","AuthScreen","setloggedIn","showLogin","setShowLogin","formData","setFormData","authForm","signupUser","data","signupData","loading","l1","error","e1","loginUser","loginData","l2","e2","onCompleted","localStorage","setItem","signinUser","token","handleChange","e","target","name","value","handleSubmit","preventDefault","variables","userSignin","userNew","padding","width","firstName","message","preValue","current","reset"],"sources":["/Users/asish/Desktop/chat app/client/src/pages/AuthScreen.js"],"sourcesContent":["import React,{useState,useRef} from 'react'\nimport { Box,Stack,Typography,Button,TextField ,Card,CircularProgress,Alert} from '@mui/material'\nimport {useMutation} from '@apollo/client'\nimport { SIGNUP_USER,LOGIN_USER } from '../graphql/mutations';\n\nconst AuthScreen = ({setloggedIn}) => {\n   const [showLogin,setShowLogin] = useState(true)\n   const [formData,setFormData] = useState({})\n   const authForm = useRef(null)\n   const [signupUser,{data:signupData,loading:l1,error:e1}] = useMutation(SIGNUP_USER)\n   const [loginUser,{data:loginData,loading:l2,error:e2}] = useMutation(LOGIN_USER,{\n     onCompleted(data){\n        localStorage.setItem(\"jwt\",data.signinUser.token)\n        setloggedIn(true)\n     }\n   })\n\n  \n   if(l1 || l2){\n     return (\n     <Box \n     display=\"flex\"\n     justifyContent=\"center\"\n     alignItems=\"center\"\n     height=\"100vh\"\n     >\n       <Box textAlign=\"center\">\n          <CircularProgress />\n         <Typography variant=\"h6\">Authenticating...</Typography>\n       </Box> \n     </Box>\n     )\n   }\n\n   const handleChange = (e)=>{\n\n       setFormData({\n           ...formData,\n           [e.target.name]:e.target.value\n       })\n   }\n\n   const handleSubmit = (e)=>{\n     e.preventDefault()\n     if(showLogin){\n        loginUser({variables:{userSignin:formData}})\n     }else{\n       signupUser({\n         variables:{\n          userNew:formData\n         }\n       })\n     }\n   }\n\n  return (\n    <Box\n     ref={authForm}\n     component=\"form\"\n     onSubmit={handleSubmit}\n     display=\"flex\"\n     justifyContent=\"center\"\n     alignItems=\"center\"\n     height=\"80vh\"\n    >\n     <Card\n     variant=\"outlined\"\n     sx={{padding:\"10px\"}}\n     >\n       <Stack\n       direction=\"column\"\n       spacing={2}\n       sx={{width:\"400px\"}}\n       >\n          {signupData && <Alert severity=\"success\">{signupData.signupUser.firstName} Signed Up</Alert> }\n          {e1 && <Alert severity=\"error\">{e1.message}</Alert>}\n          {e2 && <Alert severity=\"error\">{e2.message}</Alert>}\n           <Typography variant=\"h5\">Please {showLogin? \"Login\": \"Signup\" }</Typography>\n           {\n               !showLogin && \n               <>\n                    <TextField \n                    name=\"firstName\"\n                    label=\"First Name\"\n                    variant=\"standard\"\n                    onChange={handleChange}\n                    required\n                    />\n                    <TextField \n                    name=\"secondName\"\n                    label=\"Last Name\"\n                    variant=\"standard\"\n                    onChange={handleChange}\n                    required\n                    />\n              </>\n           }\n          \n           <TextField \n            type=\"email\"\n            name=\"email\"\n            label=\"email\"\n            variant=\"standard\"\n            onChange={handleChange}\n            required\n           />\n           <TextField \n            type=\"password\"\n            name=\"password\"\n            label=\"password\"\n            variant=\"standard\"\n            onChange={handleChange}\n            required\n           />\n           <Typography textAlign=\"center\" variant=\"subtitle1\" onClick={()=>{\n               setShowLogin((preValue)=>!preValue)\n               setFormData({})\n               authForm.current.reset()\n           }}> {showLogin? \"Signup?\":\"Login?\"}</Typography>\n           <Button variant=\"outlined\" type=\"submit\">{showLogin? \"Login\": \"Signup\" }</Button>\n       </Stack>\n       </Card>\n    </Box>\n  )\n}\n\nexport default AuthScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}